---
title: useDeleteUserMutation
---

The `useDeleteUserMutation` hook simplifies the process of deleting a user from Firebase Authentication.
It provides built-in state management for handling the mutation lifecycle (e.g., loading, success, error) and supports custom behaviors like `onSuccess` or `onError`.

## Features

- `Easy Firebase Auth Integration`: Leverages Firebase's `deleteUser` functionality.
- `Built-in State Management`: Handles idle, loading, success, and error states.
- `Customizable Callbacks`: Supports onSuccess, onError, and other React Query mutation options.
- `Optimized for TanStack Query`: Seamlessly integrates with TanStack Query for `caching` and `refetching`.

## Usage

```jsx
import { useDeleteUserMutation } from "@tanstack-query-firebase/react/auth";

function Component() {
  const { mutate, isPending, isSuccess, isError, error } =
    useDeleteUserMutation(auth);

  const handleDeleteUser = () => {
    const user = auth.currentUser;
    if (user) {
      mutate(user);
    }
  };

  return (
    <div>
      {isPending && <p>Deleting user...</p>}
      {isSuccess && <p>User deleted successfully!</p>}
      {isError && <p>Error: {error.message}</p>}

      <button onClick={handleDeleteUser} disabled={isPending}>
        Delete Account
      </button>
    </div>
  );
}
```
